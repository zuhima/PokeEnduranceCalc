<html>
  <head>
      <title>PokeEnduranceCalc</title>
      <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="main">
    <div>
      <h2>ポケモン耐久値 計算</h2>
    </div>
    <div id="syuzokuti">
      <h4>種族値</h4>
      <p class="input_syuzokuti">
        H:<input id="syuzokuti_text_H" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        A:<input id="syuzokuti_text_A" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        B:<input id="syuzokuti_text_B" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        C:<input id="syuzokuti_text_C" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        D:<input id="syuzokuti_text_D" type="text" value="0" />
      </p>
      <p class="input_syuzokuti">
        S:<input id="syuzokuti_text_S" type="text" value="0" />
      </p>
    </div>
    <div id="status">
      <h4>基本ｽﾃ</h4>
      <p class="input_muburi_status">
        <input id="base_status_H" type="text" value="0" />
      </p>
      <p class="input_muburi_status">
        <input id="base_status_A" type="text" value="0" />
      </p>
      <p class="input_muburi_status">
        <input id="base_status_B" type="text" value="0" />
      </p>
      <p class="input_muburi_status">
        <input id="base_status_C" type="text" value="0" />
      </p>
      <p class="input_muburi_status">
        <input id="base_status_D" type="text" value="0" />
      </p>
      <p class="input_muburi_status">
        <input id="base_status_S" type="text" value="0" />
      </p>
    </div>
    <div id="doryokuti">
      <h4>努力値</h4>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_H" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_H">0</button>
        <button id="doryokuti_kyokuburi_H">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_A" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_A">0</button>
        <button id="doryokuti_kyokuburi_A">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_B" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_B">0</button>
        <button id="doryokuti_kyokuburi_B">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_C" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_C">0</button>
        <button id="doryokuti_kyokuburi_C">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_D" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_D">0</button>
        <button id="doryokuti_kyokuburi_D">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <input id="doryokuti_text_S" type="number" min="0" max="252" value="0" step="4" required />
        <button id="doryokuti_reset_S">0</button>
        <button id="doryokuti_kyokuburi_S">252</button>
      </p>
      <p class="doryokuti_spinbutton">
        <font id="remain">510</font>
      </p>
    </div>
    <div id="seikakuhosei_plus">
      <p class="button_hosei_plus">
         +
      </p>
      <p class="button_hosei_plus">
        <input type="radio" name="hosei_plus" value="A" />
      </p>
      <p class="button_hosei_plus">
        <input type="radio" name="hosei_plus" value="B" />
      </p>
      <p class="button_hosei_plus">
        <input type="radio" name="hosei_plus" value="C" />
      </p>
      <p class="button_hosei_plus">
        <input type="radio" name="hosei_plus" value="D" />
      </p>
      <p class="button_hosei_plus">
        <input type="radio" name="hosei_plus" value="S" />
      </p>
    </div>
    <div id="seikakuhosei_minus">
      <p class="button_hosei_minus">
         -
      </p>
      <p class="button_hosei_minus">
        <input type="radio" name="hosei_minus" value="A" />
      </p>
      <p class="button_hosei_minus">
        <input type="radio" name="hosei_minus" value="B" />
      </p>
      <p class="button_hosei_minus">
        <input type="radio" name="hosei_minus" value="C" />
      </p>
      <p class="button_hosei_minus">
        <input type="radio" name="hosei_minus" value="D" />
      </p>
      <p class="button_hosei_minus">
        <input type="radio" name="hosei_minus" value="S" />
      </p>
    </div>
    <div id="jisuti">
      <h4>実数値</h4>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_H" type="number" min="0" max="500" value="0" step="1" required />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_A" type="number" min="0" max="500" value="0" step="1" required />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_B" type="number" min="0" max="500" value="0" step="1" required />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_C" type="number" min="0" max="500" value="0" step="1" required />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_D" type="number" min="0" max="500" value="0" step="1" required />
      </p>
      <p class="jisuti_spinbutton">
        <input id="jisuti_text_S" type="number" min="0" max="500" value="0" step="1" required />
      </p>
    </div>
    <div id="other_option">

    </div>


    </div>

  </body>
  <style>
    h2 {
      margin:5px;
    }
    h4{
      margin:5px;
    }
    h5{
      margin:7px;
    }

    #doryokuti {
      position: absolute;
      top: 50px;
      left: 140px;
    }
    #status {
      position: absolute;
      top: 50px;
      left:85px;
    }
    #seikakuhosei_plus {
      position: absolute;
      top:80px;
      left: 270px;
      background-color:rgb(248, 191, 255)
    }
    #seikakuhosei_minus {
      position: absolute;
      top: 80px;
      left: 290px;
      background-color: rgb(187, 243, 252);
    }
    #jisuti {
      position: absolute;
      top: 50px;
      left: 320px;
    }
    #syuzokuti {
      position: absolute;
      top: 50px;
      left: 15px;
    }

    p.input_muburi_status input {
      width: 50px;
      height: 25px;
    }
    p.doryokuti_spinbutton input{
      width: 50px;
      height: 25px;
    }
    p.doryokuti_spinbutton button{
      height:25px;
    }
    p.button_hosei_plus {
      height: 25px;
    }
    p.button_hosei_minus {
      height: 25px;
    }
    p.jisuti_spinbutton input {
      height: 25px;
      width: 50px;
    }
    p.input_syuzokuti input {
      height: 25px;
      width: 45px;
    }

    p.input_muburi_status {
      margin: 5px;
    }
    p.input_syuzokuti {
      margin: 5px;
    }
    p.doryokuti_spinbutton {
      margin: 5px;
    }
    p.button_hosei_plus {
      margin-top: 6px;
      margin-bottom: 6px;
    }
    p.button_hosei_minus {
      margin-top: 6px;
      margin-bottom: 6px;
    }
    p.doryokuti_spinbutton font {
      margin: 5px;
      font-size: 15px;
    }
    p.jisuti_spinbutton {
      margin: 5px;
    }



  </style>
  <script>
    //種族値を格納する変数
    var syuzokuti_H = 0;
    var syuzokuti_A = 0;
    var syuzokuti_B = 0;
    var syuzokuti_C = 0;
    var syuzokuti_D = 0;
    var syuzokuti_S = 0;
    //基本ステータス(努力値を振る直前のステータス値の変数)
    var base_status_H = 0;
    var base_status_A = 0;
    var base_status_B = 0;
    var base_status_C = 0;
    var base_status_D = 0;
    var base_status_S = 0;
    //努力値を振った後の実数値を格納する変数
    var jisuti_status_H = 0;
    var jisuti_status_A = 0;
    var jisuti_status_B = 0;
    var jisuti_status_C = 0;
    var jisuti_status_D = 0;
    var jisuti_status_S = 0;

    //性格補正値
    var seikaku_hosei_A = 1;
    var seikaku_hosei_B = 1;
    var seikaku_hosei_C = 1;
    var seikaku_hosei_D = 1;
    var seikaku_hosei_S = 1;

    //種族値入力時の動作
    $('#syuzokuti_text_H').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_H = Number(val);
      } else {
        syuzokuti_H = 0;
      }
      $(this).val(syuzokuti_H);
    })
    $('#syuzokuti_text_A').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_A = Number(val);
      } else {
        syuzokuti_A = 0;
      }
      $(this).val(syuzokuti_A);
    })
    $('#syuzokuti_text_B').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_B = Number(val);
      } else {
        syuzokuti_B = 0;
      }
      $(this).val(syuzokuti_B);
    })
    $('#syuzokuti_text_C').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_C = Number(val);
      } else {
        syuzokuti_C = 0;
      }
      $(this).val(syuzokuti_C);
    })
    $('#syuzokuti_text_D').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_D = Number(val);
      } else {
        syuzokuti_D = 0;
      }
      $(this).val(syuzokuti_D);
    })
    $('#syuzokuti_text_S').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        syuzokuti_S = Number(val);
      } else {
        syuzokuti_S = 0;
      }
      $(this).val(syuzokuti_S);
    })

    //基本ステータス入力時の動作
    $('#base_status_H').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        base_status_H = Number(val);
      } else {
        base_status_H = 0;
        $(this).val(Number(0));
      }
      $('#jisuti_text_H').val(base_status_H);
      $('#base_status_H').val(base_status_H);
      jisuti_status_H = base_status_H;
      // console.log("base H:" + base_status_H);
    });
    $('#base_status_A').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        base_status_A = Number(val);
      } else {
        base_status_A = 0;
        $(this).val(Number(0));
      }
      $('#jisuti_text_A').val(base_status_A);
      $('#base_status_A').val(base_status_A);
      jisuti_status_A = base_status_A;
      // console.log("base A:" + base_status_A);
    });
    $('#base_status_B').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        base_status_B = Number(val);
      } else {
        base_status_B = 0;
        $(this).val(Number(0));
      }
      $('#jisuti_text_B').val(base_status_B);
      $('#base_status_B').val(base_status_B);
      jisuti_status_B = base_status_B;
      // console.log("base B:" + base_status_B);
    });
    $('#base_status_C').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        base_status_C = Number(val);
      } else {
        base_status_C = 0;
        $(this).val(Number(0));
      }
      $('#jisuti_text_C').val(base_status_C);
      $('#base_status_C').val(base_status_C);
      jisuti_status_C = base_status_C;
      // console.log("base C:" + base_status_C);
    });
    $('#base_status_D').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        base_status_D = Number(val);
      } else {
        base_status_D = 0;
        $(this).val(Number(0));
      }
      $('#jisuti_text_D').val(base_status_D);
      $('#base_status_D').val(base_status_D);
      jisuti_status_D = base_status_D;
      // console.log("base D:" + base_status_D);
    });
    $('#base_status_S').change(function(){
      var val = $(this).val();
      if(!isNaN(Number(val))){
        base_status_S = Number(val);
      } else {
        base_status_S = 0;
        $(this).val(Number(0));
      }
      $('#jisuti_text_S').val(base_status_S);
      $('#base_status_S').val(base_status_S);
      jisuti_status_S = base_status_S;
      // console.log("base S:" + base_status_S);
    });

    //努力値が変更したときの動作
    $('#doryokuti_text_H').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      calcJisuti_H(Number(doryokuti));
      $('#jisuti_text_H').val(Number(jisuti_status_H));
    });
    $('#doryokuti_text_A').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_A = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_A), Number(seikaku_hosei_A));
      $('#jisuti_text_A').val(jisuti_status_A);
    });
    $('#doryokuti_text_B').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_B = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_B), Number(seikaku_hosei_B));
      $('#jisuti_text_B').val(jisuti_status_B);
    });
    $('#doryokuti_text_C').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_C = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_C), Number(seikaku_hosei_C));
      $('#jisuti_text_C').val(jisuti_status_C);
    });
    $('#doryokuti_text_D').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_D = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_D), Number(seikaku_hosei_D));
      $('#jisuti_text_D').val(jisuti_status_D);
    });
    $('#doryokuti_text_S').change(function(){
      $('#remain').text(Number(calcRemain()));
      var doryokuti = $(this).val();
      jisuti_status_S = calcJisuti_ABCDS(Number(doryokuti), Number(syuzokuti_S), Number(seikaku_hosei_S));
      $('#jisuti_text_S').val(jisuti_status_S);
    });
    function calcRemain(){
      var giving;
      var remain;
      giving = Number($('#doryokuti_text_H').val()) + Number($('#doryokuti_text_A').val()) + Number($('#doryokuti_text_B').val()) + Number($('#doryokuti_text_C').val()) + Number($('#doryokuti_text_D').val()) + Number($('#doryokuti_text_S').val());
      remain = Number(510) - Number(giving);
      return remain;
    }
    function calcJisuti_H(doryokuti){
      jisuti_status_H = Math.floor((syuzokuti_H*2 + 31 + doryokuti/4) * 1/2) + 50 + 10;
    }
    function calcJisuti_ABCDS(doryokuti, syuzokuti, seikaku_hosei){
      jisuti_status = (Math.floor((syuzokuti*2 + 31 + doryokuti/4) * 1/2) + 5) * seikaku_hosei;
      jisuti_status = Math.floor(jisuti_status);
      return jisuti_status;
    }


    //努力値のボタンが押されたとき
    $('#doryokuti_reset_H').click(function(){
      $('#doryokuti_text_H').val(Number(0));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_kyokuburi_H').click(function(){
      $('#doryokuti_text_H').val(Number(252));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_reset_A').click(function(){
      $('#doryokuti_text_A').val(Number(0));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_kyokuburi_A').click(function(){
      $('#doryokuti_text_A').val(Number(252));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_reset_B').click(function(){
      $('#doryokuti_text_B').val(Number(0));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_kyokuburi_B').click(function(){
      $('#doryokuti_text_B').val(Number(252));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_reset_C').click(function(){
      $('#doryokuti_text_C').val(Number(0));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_kyokuburi_C').click(function(){
      $('#doryokuti_text_C').val(Number(252));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_reset_D').click(function(){
      $('#doryokuti_text_D').val(Number(0));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_kyokuburi_D').click(function(){
      $('#doryokuti_text_D').val(Number(252));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_reset_S').click(function(){
      $('#doryokuti_text_S').val(Number(0));
      $('#remain').text(Number(calcRemain()));
    });
    $('#doryokuti_kyokuburi_S').click(function(){
      $('#doryokuti_text_S').val(Number(252));
      $('#remain').text(Number(calcRemain()));
    });


  </script>
</html>
